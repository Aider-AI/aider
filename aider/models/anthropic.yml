definitions:
  - &anthropic-base
    edit_format: "diff"
    use_repo_map: true

  - &anthropic-haiku-base
    <<: *anthropic-base
    weak_model_name: "claude-3-5-haiku-20241022"

  - &anthropic-cache-headers
    extra_headers:
      anthropic-beta: "prompt-caching-2024-07-31,pdfs-2024-09-25"

  - &anthropic-cache-params
    extra_params:
      <<: *anthropic-cache-headers
    cache_control: true

  - &anthropic-haiku-cache
    <<: *anthropic-haiku-base
    <<: *anthropic-cache-params

  - &anthropic-sonnet-base
    <<: *anthropic-haiku-cache
    editor_edit_format: "editor-diff"
    examples_as_sys_msg: true
    reminder: "user"
    extra_params:
      <<: *anthropic-cache-headers
      max_tokens: 8192

  - &anthropic-sonnet-self-edit
    <<: *anthropic-sonnet-base
    editor_model_name: "${self}"

models:
  - <<: *anthropic-haiku-base
    provider: ""
    name: "claude-3-opus-20240229"

  - <<: *anthropic-haiku-base
    provider: "openrouter"
    name: "anthropic/claude-3-opus"
    weak_model_name: "openrouter/anthropic/claude-3-5-haiku"

  - provider: ""
    name: "claude-3-sonnet-20240229"
    edit_format: "whole"
    weak_model_name: "claude-3-5-haiku-20241022"

  - <<: *anthropic-sonnet-self-edit
    provider: ""
    name: "claude-3-5-sonnet-20240620"

  - <<: *anthropic-sonnet-self-edit
    provider: "anthropic"
    name: "claude-3-5-sonnet-20240620"
    weak_model_name: "anthropic/claude-3-5-haiku-20241022"
    editor_model_name: "anthropic/claude-3-5-sonnet-20240620"

  - <<: *anthropic-sonnet-self-edit
    provider: "anthropic" 
    name: "claude-3-5-sonnet-20241022"
    weak_model_name: "anthropic/claude-3-5-haiku-20241022"
    editor_model_name: "anthropic/claude-3-5-sonnet-20241022"

  - <<: *anthropic-sonnet-self-edit
    provider: "bedrock"
    name: "anthropic.claude-3-5-sonnet-20241022-v2:0"
    weak_model_name: "bedrock/anthropic.claude-3-5-haiku-20241022-v1:0"
    editor_model_name: "bedrock/anthropic.claude-3-5-sonnet-20241022-v2:0"

  - <<: *anthropic-sonnet-self-edit
    provider: "anthropic"
    name: "claude-3-5-sonnet-latest"
    weak_model_name: "anthropic/claude-3-5-haiku-20241022"
    editor_model_name: "anthropic/claude-3-5-sonnet-20241022"

  - <<: *anthropic-sonnet-self-edit
    provider: ""
    name: "claude-3-5-sonnet-20241022"

  - provider: "anthropic"
    name: "claude-3-haiku-20240307"
    edit_format: "whole"
    weak_model_name: "anthropic/claude-3-haiku-20240307"
    examples_as_sys_msg: true
    <<: *anthropic-cache-params

  - <<: *anthropic-haiku-cache
    provider: "anthropic"
    name: "claude-3-5-haiku-20241022"
    weak_model_name: "anthropic/claude-3-5-haiku-20241022"

  - <<: *anthropic-haiku-cache
    provider: "bedrock"
    name: "anthropic.claude-3-5-haiku-20241022-v1:0"
    weak_model_name: "bedrock/anthropic.claude-3-5-haiku-20241022-v1:0"

  - <<: *anthropic-haiku-cache
    provider: ""
    name: "claude-3-5-haiku-20241022"
    examples_as_sys_msg: true

  - <<: *anthropic-base
    provider: "vertex_ai"
    name: "claude-3-5-haiku@20241022"
    weak_model_name: "vertex_ai/claude-3-5-haiku@20241022"
    extra_params:
      max_tokens: 4096

  - provider: ""
    name: "claude-3-haiku-20240307"
    edit_format: "whole"
    weak_model_name: "claude-3-haiku-20240307"
    examples_as_sys_msg: true
    <<: *anthropic-cache-params

  - <<: *anthropic-sonnet-base
    provider: "openrouter"
    name: "anthropic/claude-3.5-sonnet"
    weak_model_name: "openrouter/anthropic/claude-3-5-haiku"
    editor_model_name: "openrouter/anthropic/claude-3.5-sonnet"

  - <<: *anthropic-sonnet-base
    provider: "openrouter"
    name: "anthropic/claude-3.5-sonnet:beta"
    weak_model_name: "openrouter/anthropic/claude-3-5-haiku:beta"
    editor_model_name: "openrouter/anthropic/claude-3.5-sonnet:beta"

  - <<: *anthropic-sonnet-base
    provider: "vertex_ai"
    name: "claude-3-5-sonnet@20240620"
    weak_model_name: "vertex_ai/claude-3-5-haiku@20241022"
    editor_model_name: "vertex_ai/claude-3-5-sonnet@20240620"

  - <<: *anthropic-sonnet-base
    provider: "vertex_ai"
    name: "claude-3-5-sonnet-v2@20241022"
    weak_model_name: "vertex_ai/claude-3-5-haiku@20241022"
    editor_model_name: "vertex_ai/claude-3-5-sonnet-v2@20241022"

  - <<: *anthropic-haiku-base
    provider: "vertex_ai"
    name: "claude-3-opus@20240229"
    weak_model_name: "vertex_ai/claude-3-5-haiku@20241022"

  - provider: "vertex_ai"
    name: "claude-3-sonnet@20240229"
    edit_format: "whole"
    weak_model_name: "vertex_ai/claude-3-5-haiku@20241022"
